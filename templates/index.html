<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Tech Dashboard</title>
<link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;500;600;700&display=swap" rel="stylesheet">
<style>
body {
    font-family: 'Poppins', sans-serif;
    background: #f5f7fa;
    margin:0;
    padding:0;
    color:#333;
}

/* Header */
header {
    position: sticky;
    top:0;
    background: linear-gradient(90deg,#0f4c81,#1e6bb8);
    color:#fff;
    padding:25px 20px;
    text-align:center;
    z-index:1000;
    box-shadow:0 4px 8px rgba(0,0,0,0.1);
}
header h1{margin:0; font-weight:700; font-size:2rem;}
header p{margin:5px 0 15px 0;font-size:1rem;}

/* Tabs */
.tabs {
    display:flex;
    justify-content:center;
    gap:15px;
    margin:20px 0 10px 0;
}
.tab-btn {
    padding:10px 20px;
    border:none;
    border-radius:8px;
    background:#eee;
    cursor:pointer;
    font-weight:500;
    transition:0.3s;
}
.tab-btn.active {
    background:#0f4c81;
    color:#fff;
}

/* Carousel at top */
.carousel-container {
    width: 90%;
    margin: 20px auto;
    overflow: hidden;
    border-radius: 12px;
    box-shadow: 0 8px 20px rgba(0,0,0,0.08);
    position: relative;
}
.carousel-slide {
    display: flex;
    transition: transform 0.5s ease-in-out;
}
.carousel-card {
    min-width: 100%;
    flex: 0 0 100%;
    box-sizing: border-box;
    background:#fff;
    padding:25px;
    border-radius:12px;
    display:flex;
    flex-direction:column;
    justify-content:space-between;
    box-shadow:0 6px 18px rgba(0,0,0,0.08);
}
.carousel-card a {
    font-size:1.3rem;
    font-weight:700;
    color:#0f4c81;
}
.carousel-card a:hover { text-decoration:underline; }
.carousel-card .summary { margin-top:10px; font-size:0.95rem; color:#555; }

/* Grid layout for cards below carousel */
.grid-container {
    width: 90%;
    margin: 20px auto 50px auto;
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
    gap: 25px;
    align-items: stretch;
}
.card {
    background:#fff;
    border-radius:12px;
    padding:20px;
    display:flex;
    flex-direction:column;
    justify-content:space-between;
    box-shadow:0 6px 18px rgba(0,0,0,0.08);
    transition:transform 0.2s, box-shadow 0.2s;
}
.card:hover { transform: translateY(-5px); box-shadow:0 10px 25px rgba(0,0,0,0.12); }

/* Buttons at bottom */
.buttons {
    display:flex;
    gap:12px;
    align-items:center;
    margin-top:12px;
}
.like-btn, .share-btn {
    padding:6px 12px;
    border:none;
    border-radius:8px;
    cursor:pointer;
    font-size:1rem;
    display:flex;
    align-items:center;
    gap:6px;
}
.like-btn { background:#eee; }
.like-btn.liked .heart { color:red; animation:pulse 0.3s ease; }
@keyframes pulse {0%{transform:scale(1);}50%{transform:scale(1.3);}100%{transform:scale(1);}}
.share-btn { background:#0f4c81; color:white; }
.share-btn:hover { background:#15569c; }

/* Footer */
footer{
    background:#0f4c81;
    color:white;
    padding:30px 20px;
    display:flex;
    flex-wrap:wrap;
    justify-content:space-between;
    gap:20px;
    margin-top:50px;
}
footer .footer-section{
    flex:1 1 200px;
}
footer h3{margin-top:0; margin-bottom:12px; font-weight:600; font-size:1.2rem;}
footer p, footer a{font-size:0.9rem; color:white; text-decoration:none;}
footer a:hover{text-decoration:underline;}
footer .social-icons{
    display:flex;
    gap:12px;
    margin-top:10px;
}
footer .social-icons a{
    font-size:1.3rem;
    display:flex;
    align-items:center;
    justify-content:center;
    width:35px; height:35px;
    border-radius:50%;
    background:#fff;
    color:#0f4c81;
    transition:0.2s;
}
footer .social-icons a:hover{background:#ddd; color:#0f4c81;}

/* Responsive */
@media(max-width:900px){
    .grid-container{grid-template-columns:1fr;}
    footer{flex-direction:column; align-items:center; text-align:center;}
}
</style>
</head>
<body>

<header>
<h1>Tech Dashboard</h1>
<p>Latest Tech News & Jobs</p>
</header>

<!-- Tabs -->
<div class="tabs">
<button class="tab-btn active" data-tab="news">News</button>
<button class="tab-btn" data-tab="jobs">Jobs</button>
</div>

<!-- Top Carousel -->
<div class="carousel-container">
    <div class="carousel-slide">
        {% for item in news[:5] %}
        <div class="carousel-card">
            <a href="{{ item.url }}" target="_blank">{{ item.title }}</a>
            <div class="summary">{{ item.summary|safe }}</div>
        </div>
        {% endfor %}
    </div>
</div>

<!-- News Cards Grid -->
<div id="news-section" class="grid-container">
{% for item in news %}
<div class="card">
    <div class="card-content">
        <a href="{{ item.url }}" target="_blank">{{ item.title }}</a>
        <div class="summary">{{ item.summary|safe }}</div>
    </div>
    <div class="buttons">
        <button class="like-btn" data-id="{{ item.url }}">
            <span class="heart">ü§ç</span>
            <span class="count">{{ item.likes }}</span>
        </button>
        <button class="share-btn" data-url="{{ item.url }}">Share</button>
    </div>
</div>
{% endfor %}
</div>

<!-- Jobs Cards Grid -->
<div id="jobs-section" class="grid-container" style="display:none;">
{% for job in jobs %}
<div class="card">
    <div class="card-content">
        <a href="{{ job.url }}" target="_blank">{{ job.title }}</a>
        <div class="meta">{{ job.company }} - {{ job.location }}</div>
    </div>
    <div class="buttons">
        <button class="like-btn" data-id="{{ job.url }}">
            <span class="heart">ü§ç</span>
            <span class="count">{{ job.likes }}</span>
        </button>
        <button class="share-btn" data-url="{{ job.url }}">Share</button>
    </div>
</div>
{% endfor %}
</div>

<!-- Footer -->
<footer>
<div class="footer-section">
<h3>About Tech Dashboard</h3>
<p>Your source for latest tech news and remote tech jobs. Stay updated and share with your network.</p>
</div>
<div class="footer-section">
<h3>Quick Links</h3>
<p><a href="#">Home</a></p>
<p><a href="#">News</a></p>
<p><a href="#">Jobs</a></p>
<p><a href="#">Contact</a></p>
</div>
<div class="footer-section">
<h3>Follow Us</h3>
<div class="social-icons">
<a href="#" title="Facebook">F</a>
<a href="#" title="Twitter">T</a>
<a href="#" title="LinkedIn">L</a>
<a href="#" title="Instagram">I</a>
</div>
<p style="margin-top:15px;">&copy; 2025 Tech Dashboard</p>
</div>
</footer>

<script>
// Tab functionality
document.querySelectorAll('.tab-btn').forEach(btn=>{
    btn.addEventListener('click',()=>{
        document.querySelectorAll('.tab-btn').forEach(b=>b.classList.remove('active'));
        btn.classList.add('active');
        let tab = btn.getAttribute('data-tab');
        document.getElementById('news-section').style.display = tab=='news'?'grid':'none';
        document.getElementById('jobs-section').style.display = tab=='jobs'?'grid':'none';
    });
});

// Carousel auto-slide
let carouselIndex = 0;
const slide = document.querySelector('.carousel-slide');
const totalSlides = document.querySelectorAll('.carousel-card').length;
function showNextSlide(){
    carouselIndex = (carouselIndex+1)%totalSlides;
    slide.style.transform = `translateX(-${carouselIndex*100}%)`;
}
setInterval(showNextSlide,4000);

// Like toggle
document.querySelectorAll('.like-btn').forEach(btn => {
    const url = btn.getAttribute('data-id');
    const heart = btn.querySelector('.heart');
    const count = btn.querySelector('.count');

    if(localStorage.getItem('liked-'+url)){
        btn.classList.add('liked'); heart.textContent='‚ù§Ô∏è';
    } else { heart.textContent='ü§ç'; }

    btn.addEventListener('click',()=>{
        let action = btn.classList.contains('liked') ? 'unlike':'like';
        fetch('/like-toggle',{
            method:'POST',
            headers:{'Content-Type':'application/json'},
            body: JSON.stringify({url:url,action:action})
        }).then(res=>res.json()).then(data=>{
            if(data.success){
                count.textContent=data.likes;
                if(action=='like'){ btn.classList.add('liked'); heart.textContent='‚ù§Ô∏è'; localStorage.setItem('liked-'+url,true);}
                else{ btn.classList.remove('liked'); heart.textContent='ü§ç'; localStorage.removeItem('liked-'+url);}
            }
        });
    });
});

// Share buttons
document.querySelectorAll('.share-btn').forEach(btn=>{
    btn.addEventListener('click',()=>{
        const url = btn.getAttribute('data-url');
        if(navigator.share){ navigator.share({title:'Check this out',url:url}).catch(console.error);}
        else{ navigator.clipboard.writeText(url).then(()=>alert('URL copied!'));}
    });
});
</script>
</body>
</html>

